## gifts.js

Този файл отговаря за логиката, свързана с подаръците.
Тук се извличат подаръците от Firestore,
съхраняват се в локално състояние
и се управлява визуалният избор (toggle) на подарък преди финално резервиране.

Импортират се `db` и `giftsCollection` от `firebase.js`,
които осигуряват достъп до Firestore
и конкретно до колекцията с подаръци.

Импортира се функцията `getDocs` от Firebase Firestore SDK,
която позволява извличане на всички документи от дадена колекция.

Импортира се `render` от `lit-html`,
който се използва за визуализиране и обновяване на UI
при промяна в данните.

Импортира се `giftsTemplate` от `templates.js`,
който дефинира HTML структурата на списъка с подаръци
и бутоните за резервиране.

Декларира се и се експортира глобален масив `gifts`,
който държи текущото състояние на всички подаръци в приложението.
Този масив се използва и от други файлове,
например при submit на формата.

Функцията `getGifts` извлича всички подаръци от Firestore.
Тя използва `getDocs`, за да вземе snapshot на колекцията `gifts`.

Всеки документ от базата се преобразува в JavaScript обект,
като към него се добавя `id` (ID-то на документа)
и допълнително поле `selected`,
което се използва само за визуален избор в UI,
преди подаръкът да бъде реално резервиран.

След успешното зареждане списъкът с подаръци се рендерира
в HTML елемента с ID `gifts-container`
чрез `giftsTemplate`.

Добавен е `console.log`,
който служи за debugging и проверка
дали подаръците се зареждат коректно от базата.

В случай на грешка при извличането
тя се прихваща и се извежда в конзолата,
което улеснява откриването на проблеми.

Функцията `toggleGift` управлява визуалното състояние на подарък.
Ако подаръкът вече е резервиран,
функцията спира изпълнението си,
за да не позволи повторен избор.

Ако подаръкът не е резервиран,
неговото `selected` състояние се сменя между `true` и `false`.

След всяка промяна списъкът с подаръци се рендерира отново,
така че UI да отразява текущия избор на потребителя в реално време.
